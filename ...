/* OL-AL-EduAI - Full Project (Single-file React preview + README) Developer: PASIYA-MD TEAM Owners: +94766359869 / +94784548818

WHAT'S INCLUDED IN THIS FILE

README with setup & deployment instructions (Firebase + Node server)

Frontend React single-file app (default export) with routes: Home | Developer | Contact | Full Upload | Chat | Admin Panel

Firebase Auth + Firestore usage notes (placeholders)

Server sample (Node/Express) for proxying requests to OpenAI / Gemini and handling file processing

Placeholders for GEMINI_KEY and OPENAI_KEY; instructions to store them securely


NOTES

This is a compact, single-file preview suitable for local testing and to serve as a starter template.

For production you should split into multiple files, use environment variables, enable CORS and security rules, and host the server on a secure provider.

The app uses Tailwind-style utility classes (Tailwind recommended). If not using Tailwind, replace classes with your CSS.


----------------------------- README -----------------------------

1. Frontend (React)



Create a React app (Vite or CRA) and add this component as App.jsx.

Install dependencies: react-router-dom, firebase npm install react-router-dom firebase

Add Tailwind CSS or provide your CSS. The JSX uses utility classes.


2. Firebase (recommended for Auth, Firestore, Storage)



Create project on Firebase Console.

Enable Email/Password auth (and Google if you want).

Create Firestore database and a storage bucket for PDFs.

Create service rules for admin-only operations.

Replace firebaseConfig object below with your project's config.


3. Server (Node/Express) - required to keep API keys secret



Create a server (server/index.js) with endpoints: POST /api/chat -> forwards user messages to OpenAI/Gemini (server attaches keys) POST /api/upload -> accepts file uploads, stores to Firebase Storage or processes server-side

Store GEMINI_KEY and OPENAI_KEY in server environment variables (.env)

Use a trusted host for deployment (Render, Vercel Serverless Functions, Heroku, Railway, Google Cloud Run)


4. API Keys



Do NOT embed API keys in client code. Use server to proxy.

In server .env: GEMINI_KEY=your_gemini_key_here OPENAI_KEY=your_openai_key_here


5. Admin



Mark admin users in Firestore (users collection with role: 'admin')

Admin panel UI to list uploads, delete content, manage users


----------------------------- SAMPLE SERVER (Node) ----------------------------- // server/index.js (sample) /* require('dotenv').config(); const express = require('express'); const fetch = require('node-fetch'); const bodyParser = require('body-parser'); const app = express(); app.use(bodyParser.json());

app.post('/api/chat', async (req, res) => { const { message, model } = req.body; // model: 'openai' or 'gemini' try { if (model === 'openai') { const r = await fetch('https://api.openai.com/v1/chat/completions', { method: 'POST', headers: { 'Content-Type':'application/json', 'Authorization': Bearer ${process.env.OPENAI_KEY} }, body: JSON.stringify({ model: 'gpt-4o-mini', messages: [{role:'user', content: message}] }) }); const data = await r.json(); return res.json(data); } else { // Gemini example (pseudo) — adapt to your provider's API const r = await fetch('https://gemini.api.example/v1/generate', { method:'POST', headers:{ 'Authorization': Bearer ${process.env.GEMINI_KEY}, 'Content-Type':'application/json'}, body: JSON.stringify({ prompt: message }) }); const d = await r.json(); return res.json(d); } } catch (err) { console.error(err); res.status(500).json({ error: 'server error' }); } });

app.listen(process.env.PORT || 4000, ()=> console.log('Server up')); */

----------------------------- FRONTEND APP (React single-file) -----------------------------

import React, { useState, useEffect } from 'react'; import { BrowserRouter as Router, Routes, Route, Link, useNavigate } from 'react-router-dom';

// ====== FIREBASE SETUP (PLACEHOLDER) ====== // Replace this object with your Firebase project's config const firebaseConfig = { apiKey: "YOUR_FIREBASE_API_KEY", authDomain: "YOUR_FIREBASE_AUTH_DOMAIN", projectId: "YOUR_FIREBASE_PROJECT_ID", storageBucket: "YOUR_FIREBASE_STORAGE_BUCKET", messagingSenderId: "YOUR_SENDER_ID", appId: "YOUR_APP_ID" };

// For preview purposes we won't import firebase here. In production initialize firebase: // import { initializeApp } from 'firebase/app'; // import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from 'firebase/auth'; // import { getFirestore, collection, addDoc, getDocs } from 'firebase/firestore'; // import { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';

// ====== SIMPLE NAVBAR ====== function Nav() { return ( <nav className="p-4 flex gap-4 items-center border-b"> <Link to="/" className="font-bold text-xl">OL-AL EduAI</Link> <Link to="/upload" className="ml-4">Full Upload</Link> <Link to="/chat" className="ml-4">Chat</Link> <Link to="/admin" className="ml-4">Admin</Link> <Link to="/contact" className="ml-4">Contact</Link> <div className="ml-auto text-sm">Developer: PASIYA-MD TEAM</div> </nav> ); }

// ====== HOME ====== function Home() { return ( <div className="p-8"> <h1 className="text-3xl font-extrabold mb-4">O/L & A/L Lessons — AI Powered</h1> <p className="mb-4">PDF lessons, past papers, auto-answered queries and AI-assisted homework checking. All subjects supported.</p>

<div className="grid grid-cols-1 md:grid-cols-3 gap-4">
    <Feature title="All Subjects" desc="Maths, Science, Sinhala, English, Commerce, ICT and more." />
    <Feature title="Upload PDFs" desc="Teachers and admins can upload lesson PDFs and papers." />
    <Feature title="AI Chat" desc="Students can ask questions and get instant AI answers (OpenAI / Gemini)." />
  </div>

  <section className="mt-8">
    <h2 className="text-2xl font-semibold">Quick Start</h2>
    <ol className="list-decimal ml-6 mt-2">
      <li>Sign up / Login</li>
      <li>Search or browse subjects</li>
      <li>Upload PDFs or open a chat to ask questions</li>
    </ol>
  </section>
</div>

); }

function Feature({title, desc}){ return ( <div className="p-4 border rounded-lg shadow-sm"> <h3 className="font-semibold">{title}</h3> <p className="text-sm">{desc}</p> </div> ); }

// ====== CONTACT ====== function Contact(){ return ( <div className="p-8"> <h2 className="text-2xl">Contact</h2> <p>Owners: +94766359869 / +94784548818</p> <p>Developer: PASIYA-MD TEAM</p> <form className="mt-4 max-w-md"> <label className="block">Name<input className="w-full border p-2 mt-1"/></label> <label className="block mt-2">Message<textarea className="w-full border p-2 mt-1"/></label> <button className="mt-2 px-4 py-2 rounded bg-blue-600 text-white">Send</button> </form> </div> ); }

// ====== UPLOAD PAGE (client-side UI) ====== function Upload(){ const [subject, setSubject] = useState(''); const [file, setFile] = useState(null); const [msg, setMsg] = useState('');

const handleUpload = async (e) =>{ e.preventDefault(); if (!file) return setMsg('Please pick a PDF'); // In production: upload file to Firebase Storage and save metadata to Firestore setMsg('Uploading... (demo)'); setTimeout(()=> setMsg('Uploaded (demo). Admin will review and publish.'), 1000); }

return ( <div className="p-8 max-w-2xl"> <h2 className="text-2xl mb-4">Full Upload</h2> <form onSubmit={handleUpload} className="space-y-3"> <label className="block">Subject <input value={subject} onChange={e=>setSubject(e.target.value)} placeholder="e.g. Physics - A/L" className="w-full border p-2 mt-1" /> </label> <label className="block">PDF File <input type="file" accept="application/pdf" onChange={e=>setFile(e.target.files[0])} className="w-full mt-1" /> </label> <button className="px-4 py-2 bg-green-600 text-white rounded">Upload PDF</button> </form> {msg && <p className="mt-3">{msg}</p>} </div> ); }

// ====== CHAT PAGE ====== function Chat(){ const [input, setInput] = useState(''); const [messages, setMessages] = useState([]); const [model, setModel] = useState('openai'); const [loading, setLoading] = useState(false);

const send = async () =>{ if(!input) return; const userMsg = {role:'user', text:input}; setMessages(prev=>[...prev, userMsg]); setInput(''); setLoading(true); try{ // Call your server-side endpoint which forwards to OpenAI or Gemini const res = await fetch('/api/chat', { method:'POST', headers:{'Content-Type':'application/json'}, body: JSON.stringify({ message: input, model }) }); const data = await res.json(); // Data shape depends on provider; here's a flexible extraction const aiText = (data?.choices && data.choices[0]?.message?.content) || data?.output || JSON.stringify(data).slice(0,500); setMessages(prev=>[...prev, {role:'ai', text: aiText}]); }catch(err){ setMessages(prev=>[...prev, {role:'ai', text:'Error contacting server.'}]); }finally{ setLoading(false); } }

return ( <div className="p-8 max-w-3xl"> <h2 className="text-2xl mb-4">AI Chat — Ask about lessons or papers</h2> <div className="mb-3"> <label className="mr-2">Model:</label> <select value={model} onChange={e=>setModel(e.target.value)} className="border p-1"> <option value="openai">OpenAI</option> <option value="gemini">Gemini</option> </select> </div>

<div className="border rounded p-4 mb-3" style={{minHeight:200}}>
    {messages.map((m,i)=> (
      <div key={i} className={`mb-2 ${m.role==='user'?'text-right':'text-left'}`}>
        <div className={`inline-block p-2 rounded ${m.role==='user'?'bg-blue-100':'bg-gray-100'}`}>
          <strong className="block text-sm">{m.role==='user'?'You':'EduAI'}</strong>
          <div className="text-sm">{m.text}</div>
        </div>
      </div>
    ))}
  </div>

  <div className="flex gap-2">
    <input value={input} onChange={e=>setInput(e.target.value)} placeholder="Ask a question or paste a paper content" className="flex-1 border p-2" />
    <button onClick={send} className="px-4 py-2 bg-blue-600 text-white rounded">{loading? 'Sending...':'Send'}</button>
  </div>
</div>

); }

// ====== ADMIN PANEL (Demo UI) ====== function Admin(){ const [users, setUsers] = useState([]); const [uploads, setUploads] = useState([]);

useEffect(()=>{ // Load admin data from Firestore in production setUsers([{id:1, name:'TeacherA', role:'admin'}, {id:2, name:'Student1', role:'student'}]); setUploads([{id:1, title:'Past Paper - 2019', subject:'Maths', status:'published'}]); },[]);

return ( <div className="p-8"> <h2 className="text-2xl">Admin Panel</h2> <section className="mt-4"> <h3 className="font-semibold">Users</h3> <table className="w-full mt-2 border-collapse"> <thead><tr><th className="text-left">Name</th><th>Role</th></tr></thead> <tbody> {users.map(u=> ( <tr key={u.id}><td>{u.name}</td><td>{u.role}</td></tr> ))} </tbody> </table> </section>

<section className="mt-6">
    <h3 className="font-semibold">Uploads</h3>
    <ul>
      {uploads.map(up=> <li key={up.id}>{up.title} — {up.subject} — {up.status}</li>)}
    </ul>
  </section>
</div>

); }

// ====== Footer ====== function Footer(){ return ( <footer className="p-4 text-center text-sm border-t"> © {new Date().getFullYear()} OL-AL EduAI · Developer: PASIYA-MD TEAM </footer> ); }

// ====== Main App ====== export default function App(){ return ( <Router> <div className="min-h-screen flex flex-col"> <Nav /> <main className="flex-1"> <Routes> <Route path="/" element={<Home />} /> <Route path="/contact" element={<Contact />} /> <Route path="/upload" element={<Upload />} /> <Route path="/chat" element={<Chat />} /> <Route path="/admin" element={<Admin />} /> </Routes> </main> <Footer /> </div> </Router> ); }

/* ----------------------------- FINAL NOTES ----------------------------- What I included:

A full single-file React app you can drop into a project for preview. It contains all the pages you requested (home, developer credit, contact, upload, chat, admin panel).

Server sample to safely use OpenAI and Gemini keys (do NOT put keys in client).

Instructions for Firebase and production steps.


Next steps I recommend (I already included in the code comments):

1. Create a Node server to proxy AI requests and store keys in environment variables.


2. Setup Firebase for auth, firestore, and storage.


3. Replace placeholders with real firebaseConfig and deploy.


4. If you want, I can produce the exact server files, firebase security rules, or split the frontend into modular files.



*/
